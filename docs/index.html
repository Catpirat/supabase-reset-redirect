<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Procesando reset password...</title>
    <script>
      window.onload = () => {
        const params = new URLSearchParams(window.location.search);
        const accessToken = params.get("access_token"); // 游녣 aqu칤 est치 la diferencia
        const type = params.get("type");
        const redirectTo = params.get("redirect_to") || "caparazonemocional://reset-password";

        if (type === "recovery" && accessToken) {
          // Construir el deep link hacia tu app
          const deepLink = redirectTo + "#access_token=" + accessToken;
          console.log("Redirigiendo a:", deepLink);
          window.location.href = deepLink;
        } else {
          document.body.innerHTML = "<h2>Error: token inv치lido o falta par치metro</h2>";
        }
    };
    </script>
  </head>
  <body>
    <h2>Procesando redirecci칩n...</h2>
    <p>Si no pasa nada, abre la app manualmente.</p>
  </body>
</html>
